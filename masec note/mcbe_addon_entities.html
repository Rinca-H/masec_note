<!DOCTYPE html>
<html lang="ja">
<head>
  <meta property="og:site_name" content="Masec's Note" />
  <meta property="og:title" content="ブロックの作り方" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://rinca-h.github.io/masec_note/masec%20note/img/masec_note_thumb.png" />
  <meta property="og:description" content="アドオンでブロックを追加する方法を解説します" />
  <meta property="og:locale" content="ja_JP" />
  <meta name="twitter:card" content="summary" />
  <meta name="keyword" content="minecraft, マイクラ, マインクラフト, アドオン, ブロック">
  <meta name="description" content="アドオンでブロックを追加する方法を解説します">
  <title>【Minecraft BE(統合版)】アドオン作成「エンティティ」 - Masec's Note</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="highlight-js/masec-light.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- <pre><code class="json">//コード</code></pre> -->
  <link rel="stylesheet" type="text/css" href="basic.css">
  <link rel="stylesheet" type="text/css" href="masec_note.css">
  <link rel="stylesheet" type="text/css" href="masec_note_mokuzi.css">
  <!--<style type="text/css"></style>-->
</head>
<body>
  <div style="padding: 0.5em;"><img id="logo" src="img/masec_note_black.png"></div>
  <div style="margin: 8px;"><span class="desc">uploaded:2022/07/17</span></div>
  <div id="whole">
    <div id="main">
      <div class="caution">
        <img src="img/caution.png" class="ignore"> 未完成の記事です。
      </div>
      <h1 id="top">アドオン作成 - エンティティ</h1>
      <div class="announce">目次は右上の「≡」から！</div>
      <p>
        　アドオンのエンティティについて説明します。
      </p>
      <div id="sec01" class="headline" style="border-left: solid 10px #FF6169;">作成の流れ</div>
      <p>
        　エンティティ本体に加えてテクスチャも追加するので、<b>ビヘイビアとリソース両方が必要</b>になります。<br>
        　全体の作業はこうなります：
      </p>
      <div class="blue_box">
        ①entitiesフォルダに新しくJSONを新規作成する<br>
        　(+ ルートテーブルのJSONを追加する)<br>
        　(+ 交易テーブルのJSONを追加する)<br>
        　(+ アニメーション(ビヘイビア)のJSONを追加する)<br>
        　(+ アニメーションコントローラ(ビヘイビア)のJSONを追加する)<br>
        ②エンティティのテクスチャを追加する<br>
        ③.entity.jsonを編集or新規作成する<br>
        　(+ エンティティのジオメトリを追加する)<br>
        　(+ レンダーコントローラのJSONを追加する)<br>
        　(+ アニメーション(リソース)のJSONを追加する)<br>
        　(+ アニメーションコントローラ(リソース)のJSONを追加する)<br>
        ④サウンドのJSONを編集or新規作成する<br>
        ⑤.langファイルを編集・新規作成する
      </div>
      <p>
        　リソースに関する詳細はこちら
      </p>
      <div id="sec02" class="headline" style="border-left: solid 10px #FF6169;">エンティティを定義するJSON</div>
      <p>
        　これはエンティティが定義できるための最小限の内容です。ゼロから作る場合はこれをコピペするといいでしょう。
      </p>
      <div class="pDat">Dat</div><div class="dir">entities/my_entity.json</div>
      <div class="codediv">
        <button onclick="copyToClipboard('zero_json:code')">コピー</button>
        <pre><code class="json" id="zero_json">{
  "format_version": "1.17.20",
  "minecraft:entity": {
    "description": {
      "identifier": "ex:my_entity",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false
    },
    "components": {
      <span class="hljs-comment">// コンポーネント</span>
    }
  }
}</code></pre>
      </div>
      <hr>
      <h3 id="sec02sec01">主な構成</h3>
      <div class="masecjson"><button onclick="copyToClipboard('normal_json:div')">コピー</button><textarea class="copyBoard" id="normal_json" cols="5" rows="5" readonly></textarea>{
  "format_version": "1.17.20",
  "minecraft:entity": {
    "description": {
      "identifier": "ex:my_entity",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false
    },
    ~#r"components": {
      // コンポーネント
    }r#~
  }
}</div>
      <p>
        　大きく関わってくるのがこの赤い枠で囲った部分で、もっと言えばその中の{ }内にコンポーネントを書き足していきます。
      </p>
      <hr>
      <h3 id="sec02sec02">発展的な構成</h3>
      <div class="masecjson"><button onclick="copyToClipboard('adv_json:div')">コピー</button><textarea class="copyBoard" id="adv_json" cols="5" rows="5" readonly></textarea>{
  "format_version": "1.17.20",
  "minecraft:entity": {
    ~#r"description": {
      "identifier": "ex:my_entity",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false,
      "runtime_identifier": "Str(EntityId)",
      "properties":{
        // プロパティ
      },
      "aliases": {
        // エイリアス
      },
      "scripts": {
        // アニメーションキー
      },
      "animations": {
        // アニメーション
      }
    },r#~
    ~#r"permutations": [
      {
        "components": {
          // コンポーネント
        },
        "conditions": "q.actor_property('property:test') == 1"
      }
      // ...
    ],r#~
    ~#r"component_groups": {
      // コンポーネントグループ
    }r#~
    ~#r"components": {
      // コンポーネント
    }r#~
    ~#r"events": {
      // イベント
    }r#~
  }
}</div>
      <p>
        　プロパティ、コンポーネントグループ、イベントを用いてより複雑な仕様をもったエンティティを作ることができます。
      </p>
      <hr>
      <div id="sec03" class="headline" style="border-left: solid 10px #FF6169;">イベントの発生</div>
      <p>
        　イベントは以下のように、イベントをトリガーする(呼び出す)ことができる特定のコンポーネントによって呼び出され、指定したイベントファンクションを動作させます。
      </p>
      <div style="text-align: center;">
        <div style="text-align: left;" class="blue_box">
          イベントトリガー系コンポーネント<br>
          ↓　呼び出す<br>
          イベント
        </div>
      </div>
      <div class="masecjson"><button onclick="copyToClipboard('event_json:div')">コピー</button><textarea class="copyBoard" id="event_json" cols="5" rows="5" readonly></textarea>{
  "format_version": "1.17.20",
  "minecraft:entity": {
    "description": {
      "identifier": "ex:my_entity",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false
    },

    ~#r"components": {
      "minecraft:〇〇": { // イベントトリガー系コンポーネント
        "event": "~#C(ff5294)(イベント名)C#~" // 呼び出すイベントを指定
      }
    }r#~

    ~#r"events": {
      "~#C(ff5294)(イベント名)C#~": {
        // イベントファンクション
      }
    }r#~
  }
}</div>
      <div id="sec03" class="headline" style="border-left: solid 10px #FF6169;">コンポーネントグループ</div>
      <p></p>
      <div class="masecjson"><button onclick="copyToClipboard('groups_json:div')">コピー</button><textarea class="copyBoard" id="groups_json" cols="5" rows="5" readonly></textarea>{
  "format_version": "1.17.20",
  "minecraft:entity": {
    "description": {
      "identifier": "ex:my_entity",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false
    },

    ~#r"component_groups": {
      "~#C(43c6ff)(グループ名)C#~": {
        // コンポーネント
      }
    }r#~

    ~#r"components": {
      "minecraft:〇〇": { // イベントトリガー系コンポーネント
        "event": "~#C(ff5294)(イベント名)C#~" // 呼び出すイベントを指定
      }
    }r#~

    ~#r"events": {
      "~#C(ff5294)(イベント名)C#~": {
        "add": { "component_groups": [ "~#C(43c6ff)(グループ名)C#~" ] }
      }
    }r#~
  }
}</div>
      <p></p>
      <div id="sec03" class="headline" style="border-left: solid 10px #FF6169;">プロパティ</div>
      <p>
        
      </p>
      <div class="masecjson"><button onclick="copyToClipboard('property_json:div')">コピー</button><textarea class="copyBoard" id="property_json" cols="5" rows="5" readonly></textarea>{
  "format_version": "1.17.20",
  "minecraft:entity": {
    "description": {
      "identifier": "ex:my_entity",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false,
      "runtime_identifier": "Str(EntityId)",
      "properties":{
        // プロパティ
      }
    },
    ~#r"components": {
      // コンポーネント
    }r#~
  }
}</div>
      <p>

      </p>
      <div id="sec03" class="headline" style="border-left: solid 10px #FF6169;">エイリアス</div>
      <p></p>
      <div class="masecjson"><button onclick="copyToClipboard('arias_json:div')">コピー</button><textarea class="copyBoard" id="areas_json" cols="5" rows="5" readonly></textarea>{
  "format_version": "1.17.20",
  "minecraft:entity": {
    "description": {
      "identifier": "ex:my_entity",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false,
      "runtime_identifier": "Str(EntityId)",
      "properties":{
        // プロパティ
      },
      "aliases": {
        // エイリアス
      }
    },
    ~#r"components": {
      // コンポーネント
    }r#~
  }
}</div>
      <p></p>
      <div id="sec03" class="headline" style="border-left: solid 10px #FF6169;">パーミュテーション</div>
      <p>

      </p>
      <div class="masecjson"><button onclick="copyToClipboard('perm_json:div')">コピー</button><textarea class="copyBoard" id="perm_json" cols="5" rows="5" readonly></textarea>{
  "format_version": "1.17.20",
  "minecraft:entity": {
    "description": {
      "identifier": "ex:my_entity",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false,
      "runtime_identifier": "Str(EntityId)",
      "properties":{
        // プロパティ
      }
    },
    ~#r"permutations": [
      {
        "components": {
          // コンポーネント
        },
        "conditions": "q.actor_property('property:test') == 1"
      }
      // ...
    ],r#~
    ~#r"components": {
      // コンポーネント
    }r#~
  }
}</div>
      <p></p>
      <div id="sec03" class="headline" style="border-left: solid 10px #FF6169;">エンティティイベント</div>
      <p>

      </p>
      <div class="masecjson"><button onclick="copyToClipboard('anicon_json:div')">コピー</button><textarea class="copyBoard" id="anicon_json" cols="5" rows="5" readonly></textarea>{
  "format_version": "1.17.20",
  "minecraft:entity": {
    "description": {
      "identifier": "ex:my_entity",
      "is_spawnable": true,
      "is_summonable": true,
      "is_experimental": false,
      "runtime_identifier": "Str(EntityId)",
      "scripts": {
        // アニメーションキー
      },
      "animations": {
        // アニメーション
      }
    },
    ~#r"components": {
      // コンポーネント
    }r#~
  }
}</div>
      <p></p>
      <div id="sec04" class="headline" style="border-left: solid 10px #FF6169;">具体例</div>
    </div>
    <div id="sidebar">
      <iframe src="side_bar.html"></iframe>
    </div>
  </div>
  <div align="right" style="margin: 8px;"><span style="font-size: 70%;">constructed by: Rinca Hayamine</span></div>
  <header>
    <div class="always-show">
      <a href="masec_note_home.html"><img id="logo" src="img/masec_note_black.png"></a>
      <div class="menu-button no-select"><label for="check"><div style="display: table-cell; vertical-align: middle;">≡</div></label></div>
    </div>
    <input type="checkbox" name="check" id="check" style="display: none;">
    <div id="move-box">
      <div class="menu-close no-select"><label for="check">×</label></div>
      <div class="content">
        <div style="display: flex;">
          <div style="display: inline-block; width: 50%;"><h2>もくじ</h2></div>
          <div style="display: inline-block; width: 50%; text-align: right; transform: translate(0em, 3em);"><a href="#top">ページのトップへ</a></div>
        </div>
        <hr style="background-color: #64ec86; border: 1px solid #64ec86;">
        <h4><a href="#sec01">基本的な流れ</a></h4>
        <p>
          ・<a href="#sec01sec01">ブロック本体を定義</a><br>
          ・<a href="#sec01sec02">テクスチャを用意</a><br>
          ・<a href="#sec01sec03">テクスチャと本体を紐づけ①</a><br>
          ・<a href="#sec01sec04">テクスチャと本体を紐づけ①</a>
        </p>
        <hr style="background-color: #64ec86; border: 1px solid #64ec86;">
        <h4><a href="#sec02">ブロック本体(基礎)</a></h4>
        <p>
          ・<a href="#sec02sec01">主な構成</a><br>
          ・<a href="#sec02sec02">発展的な構成</a>
        </p>
        <hr style="background-color: #64ec86; border: 1px solid #64ec86;">
        <h4><a href="#sec03">ブロックの「状態」</a></h4>
        <p>
          ・<a href="#sec02sec01">イベント</a><br>
          ・<a href="#sec02sec02">パーミュテーション</a><br>
          ・<a href="#sec02sec03">「状態」の切り替え</a>
        </p>
        <hr style="background-color: #64ec86; border: 1px solid #64ec86;">
        <h4><a href="#sec04">具体例</a></h4>
        <p>
          ・<a href="#sec04sec01">シンプルなブロック</a><br>
          ・<a href="#sec04sec02">オリジナル作業台</a><br>
          ・<a href="#sec04sec03">特殊な形のブロック</a><br>
          ・<a href="#sec04sec04">特別な場所にしか置けないブロック</a><br>
          ・<a href="#sec04sec05">半透明のブロック</a><br>
          ・<a href="#sec04sec06">アイテムを持って右クリorタップするとコマンドが実行されるブロック</a><br>
          ・<a href="#sec04sec07">アイテム(2種類)を持って右クリorタップするとコマンドが実行されるブロック</a><br>
          ・<a href="#sec04sec08">原木式向きが変わるブロック</a><br>
          ・<a href="#sec04sec09">トリップワイヤーフック式向きが変わるブロック</a><br>
          ・<a href="#sec04sec10">ボタン式向きが変わるブロック</a><br>
          ・<a href="#sec04sec11">フェンス風隣の同じブロックとつながるブロック</a>
        </p>
      </div>
    </div>
  </header>
  <script src="responsive.js"></script>
</body>
</html>
