<!DOCTYPE html>
<html lang="ja">
<head>
  <title>アドオンのためのJSON - Masec's Note</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/atelier-estuary-light.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- <pre><code class="json">//コード</code></pre> -->
  <link rel="stylesheet" type="text/css" href="basic.css">
  <link rel="stylesheet" type="text/css" href="masec_note.css">
  <link rel="stylesheet" type="text/css" href="masec_note_mokuzi.css">
  <!-- <style type="text/css"></style> -->
</head>
<body>
  <div style="padding: 0.5em;"><img id="logo" src="img/masec_note_black.png"></div>
  <div style="margin: 8px;"><span class="desc">uploaded:2021/08/15</span></div>
  <div id="whole">
    <div id="main">
      <div class="caution">
        <img src="img/caution.png" class="ignore"> 内容の変更が予定されている記事です！
      </div>
      <h1>アドオン作成 - アドオンのためのJSON</h1>
      <p>
        　JSONの知識はアドオンで様々なものを「追加」するときに多く使います。<b>アドオンで何かを追加しようと思っているならば絶対に身に着けてください</b>。
        　ちゃんと理解すれば<b>簡単</b>です。<b>面倒くさくない</b>。適当にやってエラーの迷宮入りするほうが面倒くさい。
      </p>
      <div id="sec01" class="headline" style="border-left: solid 10px #587EFF;">レベル1</div>
      <p>
        　まずは値を「変える」ところからです。こんなJSONがあったとします↓
      </p>
      <pre><code class="json">{
  "integer": 1,
  "float": 3.14,
  "string": "文字列",
  "boolean": true
}</code></pre>
      <p>
        　たとえば、2行目の1を99に変えるとします。その場合、このサイトでは「<b>integerを99にする</b>」といいます。<br>
        　ここで、「stringを"こんにちは"にした」JSONがこれです↓
      </p>
      <pre><code class="json">{
  "integer": 1,
  "float": 3.14,
  "string": "こんにちは",
  "boolean": true
}</code></pre>
      <p>
        　JSONには「型」というものがあります。値のタイプみたいなもので、指定できる型の種類が場合によっては(ほとんど)限られていることがあり、
        <b>間違った型の値にするとエラーになる</b>ので注意しましょう。
        「あなたは何歳？」と問われて「野菜」とか答えたら怒られるみたいな感じです。
      </p>
      <table border=1>
        <tr><th>型の名前</th><th>説明</th></tr>
        <tr>
          <td>ストリング型</td>
          <td>文字列。ダブルクォーテーション( " )で必ず囲んでください。</td>
        </tr>
        <tr>
          <td>整数型</td>
          <td>整数。0,±1,±2,±3,...</td>
        </tr>
        <tr>
          <td>小数型</td>
          <td>小数。1.0などでも、「.0」を書いておくと忘れません。</td>
        </tr>
        <tr>
          <td>ブーリアン型</td>
          <td>真偽値。「そう」なら「true」、「そうじゃない」なら「false」。<br>ダブルクォーテーションはもちろんいらない。</td>
        </tr>
        <tr>
          <td>オブジェクト型</td>
          <td>{ } で囲まれたカタマリ。後ほど詳しく説明。</td>
        </tr>
        <tr>
          <td>配列型</td>
          <td>
            [ ] の中に値をカンマ( , )で区切って配列にします。どんな値も入りますが、決められていることがほとんどです。<br>
            例
            <pre><code class="json">[ 1, 3.14, "文字列", true, {}, [ 0, 1 ] ]</code></pre>
          </td>
        </tr>
      </table>
      <div id="sec02" class="headline" style="border-left: solid 10px #587EFF;">レベル2</div>
      <p>
        　次はJSONに書き加えるということをします。<br>
        　JSONには「"integer": 1」などといった「<b>"変数名": 値</b>」という形が並んでいます(このサイトではこの形をプロパティと呼びます)。
      </p>
      <pre><code class="json">{
  "integer": 1,
  "float": 3.14,
  "string": "こんにちは",
  "boolean": true
}</code></pre>
      <p>
        　基本的にはこのプロパティを新しく書いたり消したりしてJSONを編集します。<br>
        　試しにbooleanの次にひとつプロパティを追加してみましょう。
      </p>
      <pre><code class="json">{
  "integer": 1,
  "float": 3.14,
  "string": "こんにちは",
  "boolean": true,
  "additional": "property"
}</code></pre>
      <p>
        　簡単ですね、と言いたいところですが「true」の右にある<b>カンマ( , )を忘れやすい</b>ので気を付けてください。
        でも「"property"」の右にはカンマはいらないですね。<br>
        　<b>次にプロパティが続くときは必ずカンマを書きます</b>。いっぽう最後のプロパティには当然いらないですよね。<br>
        　そしてこのカンマ、<b>書き忘れるとエラーになる</b>のでよく気を付けてください。
      </p>
      <div id="sec03" class="headline" style="border-left: solid 10px #587EFF;">レベル3</div>
      <p>
        　次はオブジェクトに要素を追加していきます。
      </p>
      <pre><code class="json">{
  "integer": 1,
  "float": 3.14,
  "string": "こんにちは",
  "boolean": true,
  "object1": {}
}</code></pre>
      <p>
        　オブジェクトは { } で囲まれたカタマリのことですが、6行目のように<b>「{}」と書いてからっぽのオブジェクトを表す</b>ことができます。<br>
        　そして最初と最後の行に { } があるので、<b>実は上のJSONは全体がオブジェクトだった</b>ということになります。
      </p>
      <pre><code class="json">{ "integer": 1 }</code></pre>
      <p>
        　中には、いままでやってきたように<b>プロパティが入ります</b>。
      </p>
      <pre><code class="json">{ "integer": 1, "float": 3.14 }</code></pre>
      <p>
        　レベル2でやったように、カンマでつないでいくらでも増やせるので、どんどん横に並べると、場合によっては見づらくなります。そこで、改行をして「整形」をします。
      </p>
      <pre><code class="json">{
  "integer": 1,
  "float": 3.14
}</code></pre>
      <p>
        　また、どんな形のプロパティでもオブジェクトに入るわけなので、こんなことができてしまいます↓
      </p>
      <pre><code class="json">{ "obj1": { "obj2": { "obj3": { "obj4": {} } } } }</code></pre>
      <p>
        　これだと見づらいのでこれも整形します。
        さきほどサラッとやりましたが整形するときは単に改行するだけでなく、<b>行の頭に半角スペースをいれて階層がわかるように</b>します(インデント)。
        オブジェクトで最も大事なのは「<b>階層構造</b>」です。<br>
        　スペースの数は一階層下がるたびに2個ずつか4個ずつ(がほとんど)です。何個ずつか決めて、バラバラにしないようにしましょう(わたしは2個ずつ)。
      </p>
      <pre><code class="json">{
  "obj1": {
    "obj2": {
      "obj3": {
        "obj4": {}
      }
    }
  }
}</code></pre>
      <p>
        　JSONは基本的にプロパティをどの順番で書いてもいいですが、<b>どのカッコの中に書くかを間違えてはいけません</b>。<br>
        　JSONの文法的にはあっていても、階層によって意味が大きく変わってMinecraft側が理解できなくなります。<br>
      </p>
      <div style="width: 45%; display: inline-block; vertical-align: top;">
        <b>正</b>
        <pre><code class="json">{
  "くだもの": {
    "リンゴ": {
      "色": "赤"
    },
    "レモン": {
      "色": "黄"
    }
  },
  "野菜": {
    "キュウリ": {
      "色": "緑"
    }
  }
}</code></pre>
      </div>　
      <div style="width: 45%; display: inline-block; vertical-align: top;">
        <b>誤</b>
        <pre><code class="json">{
  "くだもの": {
    "色": "赤",
    "リンゴ": {},
    "レモン": {
      "色": "黄"
    }
  },
  "野菜": {
    "キュウリ": {
      "色": "緑"
    }
  }
}</code></pre>
      </div><br>
      <div style="width: 45%; display: inline-block; vertical-align: top; background: #fa4; padding: 0.5em;">
        <div style="background: #fc8; padding: 0.5em;">
          くだもの<br>
          <div style="background: #feb; padding: 0.5em;">
            リンゴ<br>
            色：赤
          </div><br>
          <div style="background: #feb; padding: 0.5em;">
            レモン<br>
            色：黄色
          </div>
        </div><br>
        <div style="background: #fc8; padding: 0.5em;">
          野菜<br>
          <div style="background: #feb; padding: 0.5em;">
            キュウリ<br>
            色：緑
          </div>
        </div>
      </div>
      <div style="width: 45%; display: inline-block; vertical-align: top; background: #fa4; padding: 0.5em;">
        <div style="background: #fc8; padding: 0.5em;">
          くだもの<br>
          色：赤　　<b>←？</b>
          <div style="background: #feb; padding: 0.5em;">
            リンゴ<br>
          </div><br>
          <div style="background: #feb; padding: 0.5em;">
            レモン<br>
            色：黄色
          </div>
        </div><br>
        <div style="background: #fc8; padding: 0.5em;">
          野菜<br>
          <div style="background: #feb; padding: 0.5em;">
            キュウリ<br>
            色：緑
          </div>
        </div>
      </div>
      <p>
        　そしてやっぱり一番難しいのが、複雑な階層構造を見抜くことです。
        慣れればある程度見えるようにはなりますが、わからなくなることはあります。<br>
        　一行だけに注目するのではなく、<b>そのプロパティがどのオブジェクトの中身なのか</b>を把握することがとても重要です。
      </p>
      <div id="sec04" class="headline" style="border-left: solid 10px #587EFF;">レベル4</div>
      <p>
        　次は、何気に飛ばしていた「<b>アレイ</b>」です。[・] で囲み、中に<b>「値」</b>を並べることができます。
      </p>
      <pre><code class="json">{
  "array": [ 1, 2, 3 ]
}</code></pre>
      <p>
        　オブジェクトと何が違うんだ？？　となったら困りますね......<br>
        　これから書くことは流しちゃいけません。<br>
        ・オブジェクトの中には<b>プロパティ</b>が<br>
        ・アレイの中には<b>値</b>が<br>
        　入ります。
      </p>
      <pre><code class="json">{
  "object": { "property": "value" },
  "array": [ "value1", "value2", "value3" ]
}</code></pre>
      <p>

      </p>
      <div id="sec05" class="headline" style="border-left: solid 10px #587EFF;">レベル5</div>
      <p>
        　ここからの内容がスラスラできればアドオンを作る最中にJSONで困ったりはしません。<br>
        　アドオンでアイテムやらブロックやらオリジナルのものを新しく追加するときは「コンポーネント」というものを常々扱っていくことになります。<br>
        　例えばブロックを追加するときに、壊すのにかかる時間を指定します。その指定はJSONのなかで「コンポーネント」として書かれます。
      </p>
      <pre><code class="json">{
  "minecraft:block_light_absorption": 0
}</code></pre>
(1)短いやつ<br>　
      <pre><code class="json">{
  "minecraft:variant": {
    "value": 1
  }
}</code></pre>
(2)オブジェクトを使う短いやつ<br>　
      <pre><code class="json">{
  "minecraft:breathable": {
    "total_supply": 15,
    "suffocate_time": 0,
    "breathes_air": true,
    "breathes_water": true
  }
}</code></pre>
(3)少し長め<br>　
      <pre><code class="json">{
  "minecraft:environment_sensor": {
    "triggers": [
      {
        "filters": { "test" : "is_daytime", "value" : false },
        "event": "minecraft:fox_configure_night"
      },
      {
        "filters": { "test" : "is_daytime", "value" : true },
        "event": "minecraft:fox_configure_day"
      }
    ]
  }
}</code></pre>
(4)まあまあ複雑<br>　
      <p>
        　ものによって1行ですむものから何十行にも及んで画面に入りきらなくなるものもあります。
      </p>
    </div>
    <div id="sidebar">
      <iframe src="side_bar.html"></iframe>
    </div>
  </div>
  <div align="right" style="margin: 8px;"><span style="font-size: 70%;">constructed by: Rinca Hayamine</span></div>
  <header>
    <div class="always-show">
      <a href="masec_note_home.html"><img id="logo" src="img/masec_note_black.png"></a>
      <div class="menu-button no-select"><label for="check"><div style="display: table-cell; vertical-align: middle;">≡</div></label></div>
    </div>
    <input type="checkbox" name="check" id="check" style="display: none;">
    <div id="move-box">
      <div class="menu-close no-select"><label for="check">×</label></div>
      <div class="content">
        <div style="display: flex;">
          <div style="display: inline-block; width: 50%;"><h2>もくじ</h2></div>
          <div style="display: inline-block; width: 50%; text-align: right; transform: translate(0em, 3em);"><a href="#top">ページのトップへ</a></div>
        </div>
        <hr style="background-color: #64ec86; border: 1px solid #64ec86;">
        <h4><a href="#sec01">レベル1</a></h4>
        <hr style="background-color: #64ec86; border: 1px solid #64ec86;">
        <h4><a href="#sec02">レベル2</a></h4>
        <hr style="background-color: #64ec86; border: 1px solid #64ec86;">
        <h4><a href="#sec03">レベル3</a></h4>
        <hr style="background-color: #64ec86; border: 1px solid #64ec86;">
        <h4><a href="#sec04">レベル4</a></h4>
        <hr style="background-color: #64ec86; border: 1px solid #64ec86;">
        <h4><a href="#sec05">レベル5</a></h4>
      </div>
    </div>
  </header>
  <script src="responsive.js"></script>
</body>
</html>